$(document).ready(function(){window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;$(".item .add-link").click(function(e){e.preventDefault(),$(".item-number").removeClass("active"),$(this).parents(".item-container").find(".item-number").addClass("active")}),$(document).click(function(e){$(e.target).closest(".item-number.active, .item .add-link").length||($(".item-number").removeClass("active"),$(".item-number-content").delay(animationDuration).removeClass("hidden"),$(".item-number .item-confirmation-content").delay(animationDuration).addClass("hidden"))}),$(".item-number .less-item-button").click(function(e){var t=$(this).parents(".input-container"),i=t.find(".item-number-input");parseInt(i.val(),10)>1&&i.val(parseInt(i.val(),10)-1)}),$(".item-number .more-item-button").click(function(e){var t=$(this).parents(".input-container"),i=t.find(".item-number-input");i.val(parseInt(i.val(),10)+1)}),$(".item-number .add-button").click(function(e){e.preventDefault();var t=$(this).siblings(".input-container").find(".item-id-input").val(),i=$(this).siblings(".input-container").find(".item-type-input").val(),n=$(this).siblings(".input-container").find(".item-number-input").val(),a=$(this).parents(".item-container").find(".item-number-content"),s=$(this).parents(".item-container"),l=$(this).parents(".item-container").find(".item-number .item-confirmation-content");$.ajax({url:"/collection/add",data:"item_id="+t+"&item_count="+n+"&item_type="+i,dataType:"json",success:function(e){if(0==e)window.location.href="/members/login";else if(a.addClass("hidden"),l.removeClass("hidden"),s.find(".item-count").length){var t=s.find(".item-count").text().replace("x",""),i=parseInt(t)+parseInt(n);console.log(i),s.find(".item-count").text("x"+i)}else s.find(".item").prepend('<div class="item-count">x'+n+"</div>")}})}),$("select#selected-range-alias").change(function(){$("input#selected-serie-alias").val("none"),$("label.series-list").css({display:"none"}),$("select#series-list").hide(),$("label.series-list."+$("#selected-range-alias").val()).css({display:"inline-block"}),$("#series-list."+$("#selected-range-alias").val()).show()}),$("select#series-list").change(function(){$("input#selected-serie-alias").val($(this).val())})});